<h1>
  Complete Payment
</h1>
<h4>
  Total : {{total | currency : 'INR'}}
</h4>

<h4>
  Products
</h4>


<!-- {{products | json}} -->
<mat-divider></mat-divider>
<table mat-table [dataSource]="products" class="tableWidth">


  <ng-container matColumnDef="imageUrl">
    <th mat-header-cell *matHeaderCellDef> </th>
    <td mat-cell *matCellDef="let element"> <img class="imageSize" [src]="element.imageUrl"> </td>
  </ng-container>

  <ng-container matColumnDef="productName">
    <th mat-header-cell *matHeaderCellDef>Product Name</th>
    <td mat-cell *matCellDef="let element"> {{element.productName}} </td>
  </ng-container>

  <ng-container matColumnDef="quantity">
    <th mat-header-cell *matHeaderCellDef> Quantity </th>
    <td mat-cell *matCellDef="let element"> {{element.quantity }} </td>
  </ng-container>

  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef> Price </th>
    <td mat-cell *matCellDef="let element"> {{element.price  | currency: 'INR'}} </td>
  </ng-container>

  <ng-container matColumnDef="total">
    <th mat-header-cell *matHeaderCellDef> Total </th>
    <td mat-cell *matCellDef="let element"> {{element.price * element.quantity  | currency: 'INR'}} </td>
  </ng-container>


  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<mat-divider></mat-divider>
<h4>
  Shipping Address
</h4>
<form [formGroup]="shippingAddress">
  <ng-template matStepLabel>Fill out your address details</ng-template>
  <mat-form-field>
    <input matInput placeholder="Full Name" formControlName="userName">
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Address Line1" formControlName="addressLine1">
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Address Line2" formControlName="addressLine2">
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="City" formControlName="city">
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Pin" formControlName="pin">
  </mat-form-field>
  <div>
    <button mat-raised-button color="primary" routerLink="/user/cart">Back</button>
   <div *ngIf="shippingAddress.valid">
      <button mat-raised-button (click)="placeOrder()">Place Order</button>
      <!-- <ngx-paypal [config]="payPalConfig"></ngx-paypal> -->
   </div>
  </div>
</form>
